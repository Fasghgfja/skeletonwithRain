<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

    <div id="layout-config" class="layout-config">
        <div class="layout-config-content">
            <a href="#" id="layout-config-button" class="layout-config-button">
                <em class="pi pi-cog"/>
            </a>
            <h:form id="config-form" styleClass="layout-config-form">
                <div class="layout-config-header">
                    <h3>Theme Customization</h3>
                </div>
                <p:outputPanel id="lightdark-panel" styleClass="layout-config-section options">
                    <span class="section-name">Set Dark Mode</span>
                    <div class="grid layout-config-options">
                        <p:selectOneRadio value="#{guestPreferences.darkMode}" layout="responsive"
                                           columns="2" update="@all" >
                            <f:selectItem itemLabel="Dark" itemValue="dark" />
                            <f:selectItem itemLabel="Light" itemValue="light" />

                            <p:ajax onstart="PrimeFaces.RainConfigurator.beforeResourceChange()" update="config-form logolink footerlogolink  rightpanellogo"/>
                        </p:selectOneRadio>
                        <p:commandButton value="Refresh" oncomplete="location.reload();" />

                    </div>
                </p:outputPanel>
            </h:form>
        </div>
    </div>


    <script>
        window.onload =function() {PrimeFaces.RainConfigurator.changeComponentsTheme('#{guestPreferences.componentTheme}','#{guestPreferences.darkMode}');
        }
    </script>


</ui:composition>