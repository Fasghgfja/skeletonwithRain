<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"

xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:po="http://primefaces.org/rain">

    <style>
        .layout-topbar {
            background-image: url("../resources/images/header.png");
        }
    </style>

<div class="layout-topbar">

    <div class="layout-topbar-wrapper">



        <div class="layout-topbar-left">
            <h:outputLink id="logolink" value="/dashboard.xhtml" styleClass="layout-topbar-logo">
                <p:graphicImage url="../resources/images/logo-wonti.svg" style="width: 90px; height: 90px;" />
            </h:outputLink>
        </div>
        <div class="layout-topbar-right">
            <div class="menu-button-wrapper">
                <a href="#" class="menu-button">
                    <div class="menu-button-bars">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="menu-button-times">
                        <span></span>
                        <span></span>
                    </div>
                </a>
            </div>

            <ul class="layout-topbar-actions">
                <li class="search-item topbar-item">
                    <h:form onsubmit="#{searchBean.search()}">

                        <h:panelGroup styleClass="md-inputfield search-input-wrapper">

                            <p:inputText placeholder="Search Plant" value="#{searchBean.plantNameToSearchFor}" />

                            <em  class="pi pi-search"></em>

                        </h:panelGroup>

                    </h:form>


                </li>



                <li class="topbar-item notifications">
                    <a href="#">
                        <em class="topbar-icon pi pi-bell"></em>
                    </a>
                    <ul>
                        <li class="layout-submenu-header">
                            <h6 class="header-text">Notifications </h6>
                        </li>
                        <li>
                            <a tabindex="0">
                                <h:panelGroup rendered="#{sessionInfoBean.hasRole('ADMIN') or sessionInfoBean.hasRole('GARDENER') }">
                                <i class="pi pi-image"></i>
                                <div class="notification-item">
                                    <div class="notification-summary">Pics Awaiting Approval</div>
                                    <div class="notification-detail">You have <strong>#{notificationsController.picturesAwaitingApprovalCount}</strong> pics awaiting approval.</div>
                                </div>
                                </h:panelGroup>
                            </a>
                        </li>
                        <li>
                            <a tabindex="0">
                                <h:panelGroup rendered="#{sessionInfoBean.hasRole('ADMIN') or sessionInfoBean.hasRole('GARDENER') }">
                                    <i class="fa fa-regular fa-bell"></i>
                                <div class="notification-item" >
                                    <div class="notification-summary">Assigned SS Alarms</div>
                                    <div class="notification-detail"> #{notificationsController.assignedSensorStationsAlarms} Alarms On.</div>
                                </div>
                                </h:panelGroup>
                            </a>
                        </li>
                        <!--
                        <li>
                            <a tabindex="0">
                                <i class="fa fa-regular fa-comment"></i>
                                <div class="notification-item">
                                    <div class="notification-summary">Messages</div>
                                    <div class="notification-detail">New Messages.</div>
                                </div>
                            </a>
                        </li>
                        -->
                    </ul>
                </li>




                <ui:fragment rendered="#{guestPreferences.profileMode == 'popup' ? true : false}">

                    <li class="topbar-item user-profile">
                        <a href="#">

                            <!-- ........................AVATAR PICTURE................................ -->
                            <p:avatar styleClass="mr-2" size="large" shape="circle">
                                <p:graphicImage url="../resources/images/awesomeProfilePicture.png"  />
                            </p:avatar>

                        </a>
                        <ul >
                            <li onclick="location.href='/editProfile.xhtml'" >
                                <a href="#">
                                    <i class="pi pi-user"></i>
                                    <span>Profile Settings</span>
                                </a>
                            </li>
                            <li onclick="location.href='/logout'" >
                                <a href="#">
                                    <i class="topbar-icon pi pi-power-off"></i>
                                    <span>Log out</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ui:fragment>

            </ul>




        </div>
    </div>
    <p:growl sticky="false" globalOnly="true" layout="table" styleClass="error-message" />

</div>

</ui:composition>