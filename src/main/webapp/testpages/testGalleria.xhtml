<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="/WEB-INF/templates/main.xhtml">


    <ui:define name="title">Gallery</ui:define>

    <ui:define name="viewname">
        <li>Galleria</li>
        <li><i class="pi pi-chevron-right"></i></li>
        <li>
        </li>
    </ui:define>

    <ui:define name="head">
        <!-- ....................FONT AWESOME FOR AWESOME ICONS : ) ........... .............. -->
        <link rel="stylesheet" href="/webjars/font-awesome/6.4.0/css/all.min.css"/>


    </ui:define>


    <ui:define name="content">
        <!-- ..........................................PAGE................................................................... -->
        <div class="layout-dashboard" style="display: grid;">

                <h:form id="userForm">

                    <!-- ..........................................GRAPH................................................................... -->
                        <div class="card chart" style="width: 20%; ">
                            <div class="card-header">
                                <h5>Selected Measurement type History Graph</h5>
                            </div>
                            <div class="card" >
                                <p:galleria id="awaitingApproval" value="#{galleryController.approvedImages}"
                                            var="image" circular="true"
                                            responsiveOptions="#{galleryController.responsiveOptions3}"
                                            style="max-width: 100%">

                                    <p:graphicImage value="#{galleryController.photoAsStreamedContent}"
                                                    alt="#{galleryController.photoAsStreamedContent}"
                                                    style="width: 100%; display: block;">
                                        <f:param name="id" value="#{image.id}"/>
                                    </p:graphicImage>


                                    <p:commandButton icon="fa-sharp fa-solid fa-trash" title="Delete #{image}"
                                                     style="width: 10%; height: 10%; background-color: red; position: absolute; margin-left: 90%; margin-bottom:68%"
                                                     actionListener="#{galleryController.doDeleteImage(image)}"
                                                     update="awaitingApproval"/>

                                    <f:facet name="thumbnail">
                                        <p:graphicImage value="#{galleryController.photoAsStreamedContent}"
                                                        alt="#{galleryController.photoAsStreamedContent}"
                                                        style="width: 20%; display: block">
                                            <f:param name="id" value="#{image.id}"/>

                                        </p:graphicImage>
                                    </f:facet>

                                </p:galleria>
                            </div>
                        </div>


                    <!-- ...................simply modify the graph controller do display different data................... -->
                    <!-- ...................supported charts are .lineModel and .cartesianLinearModel................... -->


                    <!-- .........................................MEASUREMENTS TABLE...................................................... -->
                        <div class="card products" style="width: 20%; " >
                            <p:galleria id="awaitingApproval2"
                                        rendered="#{not empty galleryController.notApprovedImages}"
                                        value="#{galleryController.notApprovedImages}" var="image" circular="true"
                                        responsiveOptions="#{galleryController.responsiveOptions3}"
                                        style="max-width: 100%">

                                <p:graphicImage value="#{galleryController.photoAsStreamedContent}"
                                                alt="#{galleryController.photoAsStreamedContent}"
                                                style="width: 100%; display: block;">
                                    <f:param name="id" value="#{image.id}"/>
                                </p:graphicImage>

                                <p:commandButton icon="fa-regular fa-thumbs-up" title="Approve Image #{image}"
                                                 style="width: 10%; height: 10%; position: absolute; margin-right: 90%"
                                                 actionListener="#{galleryController.approveImage(image)}"
                                                 update="awaitingApproval2 userForm:awaitingApproval "/>
                                <p:commandButton icon="fa-sharp fa-solid fa-trash" title="Delete #{image}"
                                                 style="width: 10%; height: 10%; background-color: red; position: absolute; margin-left: 90%;"
                                                 actionListener="#{galleryController.doDeleteImage(image)}"
                                                 update="awaitingApproval2"/>

                                <f:facet name="thumbnail">
                                    <p:graphicImage value="#{galleryController.photoAsStreamedContent}"
                                                    alt="#{galleryController.photoAsStreamedContent}"
                                                    style="width: 20%; display: block">
                                        <f:param name="id" value="#{image.id}"/>

                                    </p:graphicImage>
                                </f:facet>

                            </p:galleria>
                        </div>

                </h:form>
        </div>
    </ui:define>
</ui:composition>