<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="/WEB-INF/templates/main.xhtml">

    <f:metadata>
        <f:event type="preRenderView" listener="#{plantPhotoGalleryController.init}"/>
    </f:metadata>


    <ui:define name="title">File</ui:define>

    <ui:define name="viewname">
        <li>UI KIT</li>
        <li><i class="pi pi-chevron-right"></i></li>
        <li>
        </li>
    </ui:define>

    <ui:define name="head">
        <style type="text/css">
        </style>
    </ui:define>


    <ui:define name="content">


        <div class="col-12">
            <div class="card">
                <h5>Upload Picture Test , If this is opened from the phone it will ask if we want to upload from file or directyl from camera</h5>
                <form action="/api/upload" method="post" enctype="multipart/form-data">
                    <p>
                        <input type="file" name="file" size="40000000" onchange="previewFile()" />
                    </p>
                    <img src="" id="preview" width="200" height="200" style="display:none;" />
                    <br />
                    <input type="submit" value="Upload It" />
                </form>

                <script>
                    function previewFile() {
                        var preview = document.getElementById('preview');
                        var file = document.querySelector('input[type=file]').files[0];
                        var reader = new FileReader();

                        reader.onloadend = function() {
                            preview.src = reader.result;
                            preview.style.display = "block";
                        }

                        if (file) {
                            reader.readAsDataURL(file);
                        } else {
                            preview.src = "";
                            preview.style.display = "none";
                        }
                    }
                </script>
            </div>
        </div>


    </ui:define>
</ui:composition>