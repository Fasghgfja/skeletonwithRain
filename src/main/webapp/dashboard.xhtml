<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:po="http://primefaces.org/rain" template="/WEB-INF/templates/main.xhtml">

    <ui:define name="title">Dashboard</ui:define>
    <ui:define name="viewname">
        <li>RAIN</li>
        <li><i class="pi pi-chevron-right"></i></li>
        <li>
        </li>
    </ui:define>
    <ui:define name="head">
        <h:outputScript name="js/chart.js" />
        <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=true"></script>
        <script>
            $(function(){
                var ctx1 = document.getElementById("chart1").getContext('2d');
                var myChart1 = new Chart(ctx1, {
                    type: 'line',
                    data: {
                        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                        datasets: [{
                            label: 'Revenue',
                            data: [12, 19, 3, 5, 2, 3, 9],
                            borderColor: [
                                'rgba(126, 146, 185, .7)',
                            ],
                            borderWidth: 3,
                            borderDash:[5, 5],
                            fill: false,
                            pointRadius: 3
                        }, {
                            label: 'Profit',
                            data: [1, 2, 5, 3, 12, 7, 15],
                            backgroundColor: [
                                'rgba(126, 146, 185, .3)',
                            ],
                            borderColor: [
                                '#7e92b9',
                            ],
                            borderWidth: 3,
                            fill: true
                        },
                        ]
                    },
                    options: {
                        legend: {
                            display: true,
                            labels: {
                                fontColor: '#7e92b9'
                            }
                        },
                        responsive: true,
                        hover: {
                            mode: 'index'
                        },
                        scales: {
                            xAxes: [{
                                display: false,
                            }],
                            yAxes: [{
                                display: true,
                                gridLines: {
                                    color:  'rgba(126, 146, 185, .3)',
                                },
                                ticks: {
                                    fontColor: '#7e92b9'
                                }
                            }]
                        }
                    }
                });
            });
        </script>








    </ui:define>

    <ui:define name="content">
        <div class="layout-dashboard">
            <div class="grid">


                <!-- ..........................................TOP INFO BOXES................................................................... -->
                <!-- .....................USERS SIGNED UP..................................... -->
                <div class="col-12 md:col-6 xl:col-3">
                    <div class="card  overview-box">
                        <p:graphicImage url="../resources/images/dashboard/effect-useronline.svg"/>
                        <span class="overview-icon">
                            <p:graphicImage url="../resources/images/dashboard/icon-usersonline.png"/>
                        </span>
                        <div class="overview">
                            <span class="overview-title">USERS SIGNED UP</span>
                            <h3>
                                <h:outputText value="#{userListController.usersAmount}" />
                            </h3>
                        </div>
                    </div>
                </div>

                <!-- .....................ACCESS POINTS..................................... -->
                <div class="col-12 md:col-6 xl:col-3">
                    <div class="card overview-box">
                        <p:graphicImage url="../resources/images/dashboard/effect-checkins.svg"/>
                        <span class="overview-icon">
                            <p:graphicImage url="../resources/images/dashboard/icon-checkins.png"/>
                        </span>
                        <div class="overview">
                            <span class="overview-title">ACCESS POINTS</span>
                            <h3>query this field</h3>
                        </div>
                    </div>
                </div>

                <!-- .....................PLANTS UNDER CARE..................................... -->
                <div class="col-12 md:col-6 xl:col-3">
                    <div class="card overview-box ">
                        <p:graphicImage url="../resources/images/dashboard/effect-filessynced.svg"/>
                        <span class="overview-icon">
                            <p:graphicImage url="../resources/images/dashboard/icon-filessynced.png"/>
                        </span>
                        <div class="overview">
                            <span class="overview-title">PLANTS UNDER CARE</span>
                            <h3>
                                <h:outputText value="#{sensorStationListController.sensorStationsAmount}" />
                            </h3>
                        </div>
                    </div>
                </div>

                <!-- .....................INTERACTIONS..................................... -->
                <div class="col-12 md:col-6 xl:col-3">
                    <div class="card overview-box">
                        <p:graphicImage url="../resources/images/dashboard/effect-messages.svg" />
                        <span class="overview-icon">
                            <p:graphicImage url="../resources/images/dashboard/icon-messages.png"/>
                        </span>
                        <div class="overview">
                            <span class="overview-title">INTERACTIONS</span>
                            <h3>query this field</h3>
                        </div>
                    </div>
                </div>



                <!-- ..........................................GRAPH................................................................... -->
                <div class="col-12 md:col-12 xl:col-6">
                    <div class="card chart">
                        <div class="card-header">
                            <h5>Orders</h5>
                        </div>
                        <canvas id="chart1"></canvas>
                    </div>
                </div>







                <!-- ..........................................GREENHOUSES PREVIEW................................................................... -->
                <div class="col-12 md:col-12 xl:col-6">
                    <div class="col-12">
                        <div class="card">
                            <h5>Green Houses</h5>
                            <p:dataTable id="ordersTable" var="sensorStation" value="#{sensorStationListController.sensorStations}" selectionMode="single" reflow="true" paginatorPosition="bottom"
                                         rowKey="#{sensorStation.id}" paginator="true" rows="5" sortBy="#{sensorStation.id}" sortOrder="descending" >
                                <p:column headerText="Id" sortBy="#{sensorStation.id}">
                                    <h:outputText value="#{sensorStation.id}" />
                                </p:column>

                                <p:column headerText="Plant" sortBy="#{sensorStation.createDate}">
                                    <h:outputText value="#{sensorStation.createDate}" />
                                </p:column>

                                <p:column headerText="Date" sortBy="#{sensorStation.createDate}">
                                    <h:outputText value="#{sensorStation.createDate}" />
                                </p:column>

                                <p:column headerText="Location" sortBy="#{sensorStation.location}">
                                    <h:outputText value="#{sensorStation.location}">
                                        <f:convertNumber currencySymbol="$" type="currency" />
                                    </h:outputText>
                                </p:column>

                                <p:column headerText="Status" sortBy="#{order.status}">
                                    <span class="order-badge order-#{order.status.name().toLowerCase()}">#{order.status}</span>
                                </p:column>

                                <p:column style="width: 3.5rem">
                                    <p:commandButton icon="pi pi-search" />
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>
                </div>





                <!-- ..........................................OUTER FRAME LOG PREVIEW AND LOG GROUPS ................................................ -->
                <div class="col-12 md:col-12 xl:col-8">
                    <div class="grid">

                        <!-- ..........................................LOG PREVIEW................................................................... -->
                        <div class="col-12 md:col-6">
                            <div class="card feedbacks">
                                <div class="card-header">
                                    <h5>System Messages</h5>
                                    <div class="rating">
                                        <p:rating value="4" readonly="true"/>
                                        <span>4.0</span>
                                    </div>

                                </div>
                                <div class="feedbacks-list">
                                    <div class="feedback">
                                        <p:graphicImage name="images/dashboard/avatar-1.png" library="demo" />
                                        <div class="feedback-content">
                                            <div class="feedback-header">
                                                <h6>Tamas Bunce</h6>
                                                <p:rating value="5" readonly="true"/>
                                                <span>12h ago</span>
                                            </div>
                                            <span>The analysis of satellite data has revealed the loss of ice in just a few months of abnormally high…</span>
                                        </div>
                                    </div>
                                    <div class="feedback">
                                        <p:graphicImage name="images/dashboard/avatar-1.png" library="demo" />
                                        <div class="feedback-content">
                                            <div class="feedback-header">
                                                <h6>Tamas Bunce</h6>
                                                <p:rating value="5" readonly="true"/>
                                                <span>12h ago</span>
                                            </div>
                                            <span>The analysis of satellite data has revealed the loss of ice in just a few months of abnormally high…</span>
                                        </div>
                                    </div>
                                    <div class="feedback">
                                        <p:graphicImage name="images/dashboard/avatar-2.png" library="demo" />
                                        <div class="feedback-content">
                                            <div class="feedback-header">
                                                <h6>Olivia Arribas</h6>
                                                <p:rating value="4" readonly="true"/>
                                                <span>1d ago</span>
                                            </div>
                                            <span>The analysis of satellite data has revealed the loss of ice in just a few months of abnormally high…</span>
                                        </div>
                                    </div>
                                    <div class="feedback">
                                        <p:graphicImage name="images/dashboard/avatar-3.png" library="demo" />
                                        <div class="fesedback-content">
                                            <div class="feedback-header">
                                                <h6>Naomí Yepes</h6>
                                                <p:rating value="4"  readonly="true"/>
                                                <span>1w ago</span>
                                            </div>
                                            <span>The analysis of satellite data has revealed the loss of ice in just a few months of abnormally high…</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ..........................................AUDIT LOG ERROR GROUPS.............................................................. -->
                        <div class="col-12 md:col-6">
                            <div class="card status">
                                <div class="card-header">
                                    <h5>Audit Log</h5>
                                </div>
                                <div class="status-content">
                                    <div class="status-graph">
                                        <h:outputText value="#{userListController.usersAmount}" />
                                        <h:outputText value="#{userListController.usersAmount}" />

                                        <div class="graph-info">
                                            <h5>12.6%</h5>
                                        </div>
                                    </div>

                                    <div class="status-info">
                                        <h6>Logs</h6>
                                        <ul>
                                            <li>
                                                <div class="status">
                                                    <span ><i class="pi pi-circle-on"></i> Error</span>
                                                    <span >4</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="status">
                                                    <span ><i class="pi pi-circle-on"></i> Warning</span>
                                                    <span >25</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="status">
                                                    <span ><i class="pi pi-circle-on"></i> Success</span>
                                                    <span >36</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>




                <!-- ..........................................EXTRA FRAME................................................................... -->
                <div class="col-12 md:col-6 xl:col-4">
                    <div class="card sales">
                        <div class="card-header">
                            <h5>EXTRA FRAME</h5>
                            <div class="header-buttons">
                                <p:commandButton type="button" icon="pi pi-search" styleClass="ui-button-secondary outlined-button mr-2" />
                            </div>
                        </div>
                        <p:graphicImage name="images/dashboard/asset-worldmap.png" library="demo" />
                        <div class="progress-item">
                            <div class="progress-title">
                                <span >United States of America</span>
                                <span >5K/10K</span>
                            </div>

                            <div class="progress-bar">
                                <span class="progress"></span>
                                <span class="progress-bar-background"></span>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-title">
                                <span >France</span>
                                <span >2K/6K</span>
                            </div>

                            <div class="progress-bar">
                                <span class="progress"></span>
                                <span class="progress-bar-background"></span>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-title">
                                <span >Japan</span>
                                <span >4K/9K</span>
                            </div>

                            <div class="progress-bar">
                                <span class="progress"></span>
                                <span class="progress-bar-background"></span>
                            </div>
                        </div>
                    </div>
                </div>




                <!-- ..........................................USERS TABLE................................................................... -->
                <div class="col-12 md:col-12 xl:col-8">
                    <div class="card transactions">
                        <div class="card-header">
                            <h5>Users</h5>
                            <div class="header-buttons">
                                <p:commandButton type="button" icon="pi pi-search" styleClass="ui-button-secondary outlined-button  mr-2"/>
                                <p:commandButton type="button" icon="pi pi-ellipsis-v"  styleClass="ui-button-secondary outlined-button " />
                            </div>
                        </div>
                        <h:form id="form">
                            <p:dataTable  widgetVar="customersDT" var="user" value="#{userListController.users}" reflow="true" rowKey="#{user.id}"
                                          rows="10" scrollable="true" scrollHeight="500">
                                <f:facet name="header">
                                    <style type="text/css">
                                        .table-no-select-all .ui-chkbox-all {
                                            display: none !important;
                                        }

                                    </style>
                                    <div class="customers-table-header">
                                        <span style="font-weight: bold">Greenhouses</span>

                                        <span class="ui-input-icon-left filter-container">
                                        <i class="pi pi-search"/>
                                        <p:inputText id="globalFilter" onkeyup="PF('customersDT').filter()" placeholder="Global Search"/>
                                    </span>
                                    </div>
                                </f:facet>
                                <p:column headerText="Username" sortBy="#{user.username}" filterBy="#{user.username}">
                                    <h:outputText value="#{user.username}" />
                                </p:column>
                                <p:column headerText="First Name" sortBy="#{user.firstName}" filterBy="#{user.firstName}">
                                    <span class="flag flag-#{customer.country.code}" style="width: 30px; height: 20px"/>
                                    <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{user.firstName}" />
                                </p:column>
                                <p:column headerText="Last Name" sortBy="#{user.lastName}" filterBy="#{user.lastName}">
                                    <p:graphicImage name="images/avatar/#{customer.representative.image}" width="32" style="vertical-align: middle" />
                                    <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{user.lastName}" />
                                </p:column>
                                <p:column headerText="Join Date" sortBy="#{user.createDate}" filterBy="#{user.createDate}">
                                    <h:outputText value="#{user.createDate}" />
                                </p:column>
                                <p:column headerText="Roles" sortBy="#{customer.status}" filterBy="#{customer.status}">
                                    <span class="customer-badge status-#{customer.status.name().toLowerCase()}">#{customer.status}</span>
                                </p:column>
                                <p:column headerText="Enabled" sortBy="#{user.enabled}">
                                    <h:outputText value="#{user.enabled}" />
                                </p:column>
                                <p:column style="width: 8rem; text-align: center;">
                                    <p:button icon="pi pi-cog" styleClass="ui-button-secondary" />
                                </p:column>
                            </p:dataTable>
                        </h:form>
                    </div>
                </div>





            </div>
        </div>
    </ui:define>
</ui:composition>