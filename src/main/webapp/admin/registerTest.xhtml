<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:ng="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/loginMain.xhtml">

    <ui:define name="content">

        <div style="display:flex;width: 100%; min-height: 100vh; justify-content: right; align-items: center;
    background-image: url('https://c4.wallpaperflare.com/wallpaper/331/66/547/nature-leaves-water-drops-closeup-wallpaper-preview.jpg'); background-size: cover;">

            <div style="display:flex;width: 100%; min-height: 100%; justify-content: center; align-items: center;" >
                <p style="color: white;">
                    <h:form id="myform">
                        <p:remoteCommand name="rc" actionListener="#{galleryController.changeActiveIndex}" update=":myform:custom" oncomplete="PF('galleria3').show()" />


                        <div class="card" style="width: 40%; min-height: 20vh; ">
                            <h5>Custom Content</h5>
                            <p:galleria id="custom" widgetVar="galleria3" value="#{galleryController.images}" var="image" activeIndex="#{galleryController.activeIndex}" numVisible="7" responsiveOptions="#{galleryController.responsiveOptions1}"
                                        circular="true" fullScreen="true" showItemNavigators="true" showThumbnails="false" style="max-width: 850px">
                                <p:graphicImage value="#{galleryController.photoAsStreamedContent}" alt="#{galleryController.photoAsStreamedContent}" style="width: 100%; display: block">
                                    <f:param name="id" value="#{image.id}" />
                                </p:graphicImage>
                            </p:galleria>

                            <div class="grid" style="max-width: 400px">
                                <ui:repeat value="#{galleryController.images}" var="image" varStatus="status" class="col-3" >
                                    <div class="col-3">
                                        <p:graphicImage value="#{galleryController.photoAsStreamedContent}" alt="#{galleryController.photoAsStreamedContent}" style="width: 20%; cursor: pointer" onclick="rc([{'name': 'index', 'value': #{status.index} }])">
                                            <f:param name="id" value="#{image.id}" />
                                        </p:graphicImage>
                                    </div>
                                </ui:repeat>
                            </div>
                        </div>

                    </h:form>

                </p>
            </div>

            <div class="card">
                <form action="/api/upload" method="post" enctype="multipart/form-data">
                    <p>
                        <input type="file" name="file" size="40" onchange="previewFile()" />
                    </p>
                    <img src="" id="preview" width="200" height="200" style="display:none;" />
                    <br />
                    <input type="submit" value="Upload It" />
                </form>

                <script>
                    function previewFile() {
                        var preview = document.getElementById('preview');
                        var file = document.querySelector('input[type=file]').files[0];
                        var reader = new FileReader();

                        reader.onloadend = function() {
                            preview.src = reader.result;
                            preview.style.display = "block";
                        }

                        if (file) {
                            reader.readAsDataURL(file);
                        } else {
                            preview.src = "";
                            preview.style.display = "none";
                        }
                    }
                </script>
            </div>



            <p:card style="width: 30%; min-height: 100vh; margin:5px; justify-content: left;">
                <h:form>

                    <h:panelGrid columns="1" style="margin-top: 60%; width: 100%" layout="grid">
                        <h:outputText value="Join Us" styleClass="login-header" style="font-size: 34px; color: black"/>
                        <h:outputText value="Create Your Account, ItÂ´s Free." styleClass="login-header" />
                    </h:panelGrid>

                    <h:panelGrid columns="1" style="margin-top: 5%;margin-bottom: 50%; width: 100%" layout="grid">
                        <h:outputLabel for="username" value="Username:" />
                        <p:inputText id="username" value="#{userRegistrationBean.userName}" type="text" required="true" style="width: 100%" />
                        <h:outputLabel for="password" value="Password:" />
                        <p:inputText id="password" value="#{userRegistrationBean.password}" type="password" required="true" style="width: 100%" />
                        <p><h:commandButton style="margin-top: 20px; margin-right: 2px; background-color: black; width: 100%; height: 45px; line-height: 40px;
                                        font-size: 16px; padding: 0;" type="submit" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"
                                            value="Create account" action="confirm" /></p>
                    </h:panelGrid>

                    <h:commandLink>
                        <h:graphicImage url="https://i.ibb.co/NxFM4rH/banner.png" style="height:100px;width:350px; align-self: center" />
                    </h:commandLink>

                </h:form>
            </p:card>




        </div>
    </ui:define>
</ui:composition>